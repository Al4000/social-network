(this.webpackJsonpfaceboook=this.webpackJsonpfaceboook||[]).push([[0],{121:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(42),r=a(43),c=a(45),i=a(44),s=a(0),o=a.n(s),u=a(18),l=a(23),d=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(c.a)(s,t);var a=Object(i.a)(s);function s(){return Object(n.a)(this,s),a.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?o.a.createElement(e,this.props):o.a.createElement(u.a,{to:"/login"})}}]),s}(o.a.Component);return Object(l.b)(d)(t)}},123:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return _})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return h})),a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return v})),a.d(t,"g",(function(){return E}));var n=a(14),r=a.n(n),c=a(26),i=a(60),s=a(6),o=a(24),u=a(58),l={posts:[{id:1,text:"First post",likes:2,dislikes:0,like:!1,dislike:!1},{id:2,text:"Hi",likes:23,dislikes:1,like:!1,dislike:!1}],profile:null,isFetching:!0},d=function(e){return{type:"ADD_POST",newPostText:e}},p=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},f=function(e){return{type:"SET_STATUS",status:e}},m=function(e){return{type:"TOGGLE_LIKE",id:e}},_=function(e){return{type:"TOGGLE_DISLIKE",id:e}},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(p(!0)),t.next=3,o.b.getUserProfile(e);case 3:n=t.sent,a({type:"SET_USERS_PROFILE",profile:n}),a(p(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:n=t.sent,a(f(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&a(f(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.uploadAvatar(e);case 2:0===(n=t.sent).data.resultCode&&a({type:"SAVE_AVATAR",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n().auth.userId,t.next=3,o.b.updateProfile(e);case 3:if(0!==(i=t.sent).data.resultCode){t.next=8;break}a(g(c)),t.next=10;break;case 8:return a(Object(u.a)("profile",{_error:i.data.messages[0]})),t.abrupt("return",Promise.reject(i.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={id:5,text:t.newPostText,likes:0,dislikes:0,like:!1,dislike:!1};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[a])});case"SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"SET_USERS_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"TOGGLE_FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case"DELETE_POST":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case"SAVE_AVATAR":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});case"TOGGLE_LIKE":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?e.like?Object(s.a)(Object(s.a)({},e),{},{like:!1,likes:e.likes-1}):Object(s.a)(Object(s.a)({},e),{},{like:!0,dislike:!1,likes:e.likes+1,dislikes:e.dislike?e.dislikes-1:e.dislikes}):e}))});case"TOGGLE_DISLIKE":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?e.dislike?Object(s.a)(Object(s.a)({},e),{},{dislike:!1,dislikes:e.dislikes-1}):Object(s.a)(Object(s.a)({},e),{},{like:!1,dislike:!0,dislikes:e.dislikes+1,likes:e.like?e.likes-1:e.likes}):e}))});default:return e}}},159:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(60),r=a(6),c=a(174),i=a.n(c),s=a(175),o=a.n(s),u=a(176),l=a.n(u),d=a(177),p=a.n(d),f=a(178),m=a.n(f),_=a(179),g=a.n(_),h={dialogs:[{id:1,name:"Alexander",avatar:i.a},{id:2,name:"Victor",avatar:o.a},{id:3,name:"John",avatar:l.a},{id:4,name:"Helena",avatar:p.a},{id:5,name:"Tony",avatar:m.a},{id:6,name:"Michael",avatar:g.a}],messages:[{id:1,message:"Hi",type:"incoming"},{id:2,message:"Hello",type:"outcoming"},{id:3,message:"Ok!",type:"incoming"},{id:4,message:"Good bye",type:"outcoming"},{id:5,message:"100%",type:"incoming"},{id:6,message:"Yo",type:"outcoming"}]},b=function(e){return{type:"ADD_MESSAGE",newMessageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var a={id:7,message:t.newMessageText,type:"incoming"};return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(n.a)(e.messages),[a])});default:return e}}},16:function(e,t,a){e.exports={nav:"Navbar_nav__mPHz4",nav__ul:"Navbar_nav__ul___Wdvm",nav__li:"Navbar_nav__li__3zbpa",nav__li_users:"Navbar_nav__li_users__1LYrp",active:"Navbar_active__Pdizy",friends:"Navbar_friends__PhlxP",friends_list:"Navbar_friends_list__2Xi3S",friends_avatar:"Navbar_friends_avatar__3aujU",friends_item:"Navbar_friends_item__6QViX",friends_title:"Navbar_friends_title__3vmLE",friends_name:"Navbar_friends_name__3_R0Z",friends_count:"Navbar_friends_count__1rlDZ"}},165:function(e,t,a){e.exports=a.p+"static/media/preloader.f43d9ff2.gif"},166:function(e,t,a){e.exports={preloader_wrap:"Preloader_preloader_wrap__2K_Eb"}},168:function(e,t,a){e.exports=a.p+"static/media/178.d05a41d9.gif"},169:function(e,t,a){e.exports={news:"News_news__2Obhi"}},170:function(e,t,a){e.exports={music:"Music_music__2qfFp"}},171:function(e,t,a){e.exports={settings:"Settings_settings__2Ma6h"}},174:function(e,t,a){e.exports=a.p+"static/media/my.586e6b99.png"},175:function(e,t,a){e.exports=a.p+"static/media/Screenshot_2.e2849d3c.png"},176:function(e,t,a){e.exports=a.p+"static/media/Screenshot_3.86f596a9.png"},177:function(e,t,a){e.exports=a.p+"static/media/helena.1b106820.jpg"},178:function(e,t,a){e.exports=a.p+"static/media/Screenshot_5.42e1719b.png"},179:function(e,t,a){e.exports=a.p+"static/media/Screenshot_6.f5ed4860.png"},216:function(e,t,a){e.exports=a(342)},22:function(e,t,a){e.exports={users:"Users_users__3-FFG",avatar:"Users_avatar__35Qak",info:"Users_info__2BRvL",name:"Users_name__1KhPj",card:"Users_card__1CGl8",card__left:"Users_card__left__1fwRm",status:"Users_status__25-ll",location:"Users_location__1HiKE",showmore:"Users_showmore__2dLWk",button:"Users_button__dNBIf",pagination:"Users_pagination__2rYmF",pagi_active:"Users_pagi_active__QeygC",pagi:"Users_pagi__dPTaQ",pagi_button:"Users_pagi_button__3Uoqo"}},221:function(e,t,a){},222:function(e,t,a){},24:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o}));var n=a(164),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2f779481-db2c-495a-9bc1-00ac4d4dad77"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))},getFriends:function(){return r.get("users").then((function(e){return e.data}))}},i={getUserProfile:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.put("profile/status",{status:e})},uploadAvatar:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t)},updateProfile:function(e){return r.put("profile",e)}},s={me:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,remember:a,captcha:n})},logout:function(){return r.delete("auth/login")}},o={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},342:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),c=a(15),i=a.n(c),s=(a(221),a(42)),o=a(43),u=a(45),l=a(44),d=a(18),p=a(27),f=(a(222),a(183)),m=a(378),_=a(181),g=a.n(_),h=a(182),b=a.n(h),v=a(23),E=a(14),O=a.n(E),w=a(26),j=a(60),y=a(6),N=a(24),k={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followInProgress:[]},S=function(e){return{type:"FOLLOW",userId:e}},T=function(e){return{type:"UNFOLLOW",userId:e}},P=function(e){return{type:"SET_TOTAL_USERS",users:e}},C=function(e){return{type:"SET_ACTIVE_PAGE",page:e}},U=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},F=function(e,t){return{type:"FOLLOW_IN_PROGRESS",isFetching:e,userId:t}},x=function(){var e=Object(w.a)(O.a.mark((function e(t,a,n,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(F(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(r(a)),t(F(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(y.a)(Object(y.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(y.a)(Object(y.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(y.a)(Object(y.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(y.a)(Object(y.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(y.a)(Object(y.a)({},e),{},{users:t.users});case"SET_TOTAL_USERS":return Object(y.a)(Object(y.a)({},e),{},{totalUsersCount:t.users});case"SET_ACTIVE_PAGE":return Object(y.a)(Object(y.a)({},e),{},{currentPage:t.page});case"TOGGLE_FETCHING":return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFetching});case"FOLLOW_IN_PROGRESS":return Object(y.a)(Object(y.a)({},e),{},{followInProgress:t.isFetching?[].concat(Object(j.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!==t.userId}))});default:return e}},I=a(22),L=a.n(I),G=a(374),R=a(124),D=function(e){for(var t=e.totalUsersCount,a=e.pageSize,c=e.currentPage,i=e.onPageChanged,s=e.pagiSize,o=void 0===s?10:s,u=Math.ceil(t/a),l=[],d=1;d<=u;d++)l.push(d);var p=Math.ceil(u/o),f=Object(n.useState)(1),m=Object(R.a)(f,2),_=m[0],g=m[1],h=(_-1)*o+1,b=_*o;return r.a.createElement("div",{className:L.a.pagination},_>1&&r.a.createElement(G.a,{className:L.a.pagi_button,variant:"contained",color:"primary",onClick:function(){return g(_-1)}},"Prev ",o),l.filter((function(e){return e>=h&&e<=b})).map((function(e){return r.a.createElement("span",{key:e,className:"".concat(c===e?L.a.pagi_active:""," ").concat(L.a.pagi),onClick:function(){return i(e)}},e)})),p>_&&r.a.createElement(G.a,{className:L.a.pagi_button,variant:"contained",color:"primary",onClick:function(){return g(_+1)}},"Next ",o))},z=a(79),H=a.n(z),M=function(e){var t=e.user,a=e.followInProgress,n=e.unfollow,c=e.follow;return r.a.createElement("div",{className:L.a.card},r.a.createElement("div",{className:L.a.card__left},r.a.createElement("div",{className:L.a.avatar},r.a.createElement(p.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:H.a,alt:""}))),r.a.createElement(G.a,{variant:"contained",color:t.followed?"secondary":"primary",className:L.a.button,disabled:a.some((function(e){return e===t.id})),onClick:t.followed?function(){n(t.id)}:function(){c(t.id)}},t.followed?"unfollow":"follow")),r.a.createElement("div",{className:L.a.info},r.a.createElement("div",null,r.a.createElement("div",{className:L.a.name},t.name),r.a.createElement("div",{className:L.a.status},t.status))))},W=function(e){return r.a.createElement("div",{className:L.a.users},r.a.createElement(D,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize}),e.users.map((function(t){return r.a.createElement(M,{user:t,followInProgress:e.followInProgress,unfollow:e.unfollow,follow:e.follow,key:t.id})})),r.a.createElement("div",{className:L.a.showmore},r.a.createElement(G.a,{variant:"contained",color:"primary",className:L.a.button_more,size:"large",onClick:function(){e.onPageChanged(e.currentPage+1)}},"Show next")))},V=a(61),K=a(121),q=a(12),Y=a(167),Z=function(e){return e.usersPage.isFetching},B=Object(Y.a)((function(e){return e.usersPage.users}),(function(e){return e})),Q=function(e){return e.usersPage.pageSize},X=function(e){return e.usersPage.totalUsersCount},J=function(e){return e.usersPage.currentPage},$=function(e){return e.usersPage.followInProgress},ee=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(V.a,null):r.a.createElement(W,{totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followInProgress:this.props.followInProgress}))}}]),a}(r.a.Component),te=Object(q.d)(Object(v.b)((function(e){return{users:B(e),pageSize:Q(e),totalUsersCount:X(e),currentPage:J(e),isFetching:Z(e),followInProgress:$(e)}}),{follow:function(e){return function(t){x(t,e,N.d.follow.bind(e),S)}},unfollow:function(e){return function(t){x(t,e,N.d.unfollow.bind(e),T)}},setActivePage:C,toggleFollow:F,requestUsers:function(e,t){return function(){var a=Object(w.a)(O.a.mark((function a(n){var r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(U(!0)),n(C(e)),a.next=4,N.d.getUsers(e,t);case 4:r=a.sent,n({type:"SET_USERS",users:r.items}),n(U(!1)),n(P(r.totalCount));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}),K.a)(ee),ae=a(51),ne=a.n(ae),re=a(168),ce=a.n(re),ie=function(e){return r.a.createElement("header",{className:ne.a.header},r.a.createElement("img",{src:ce.a,alt:"",className:ne.a.logo}),r.a.createElement("div",{className:ne.a.brand},"vFacebooke"),r.a.createElement("div",{className:ne.a.login_block},e.isAuth?r.a.createElement("div",{className:ne.a.button_wrap},e.login,r.a.createElement(G.a,{variant:"contained",color:"primary",className:ne.a.button_logout,onClick:e.logout},"Logout")):r.a.createElement(p.b,{to:"/login"},r.a.createElement(G.a,{variant:"contained",color:"primary",className:ne.a.button},"Login"))))},se=a(58),oe={userId:null,email:null,login:null,isAuth:!1,isFetching:!0,captchaUrl:null},ue=function(e,t,a,n){return{type:"auth/SET_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:n}}},le=function(e){return{type:"auth/TOGGLE_FETCHING",isFetching:e}},de=function(e){return{type:"auth/GET_CAPTCHA_URL",payload:{captchaUrl:e}}},pe=function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n,r,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(le(!0)),e.next=3,N.a.me();case 3:a=e.sent,t(le(!1)),0===a.resultCode&&(n=a.data,r=n.id,c=n.email,i=n.login,t(ue(r,c,i,!0)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe=function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(le(!0)),e.next=3,N.c.getCaptchaUrl();case 3:a=e.sent,t(le(!1)),n=a.data.url,t(de(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":case"auth/GET_CAPTCHA_URL":return Object(y.a)(Object(y.a)({},e),t.payload);case"auth/TOGGLE_FETCHING":return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFetching});default:return e}},_e=Object(q.d)(Object(v.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(le(!0)),e.next=3,N.a.logout();case 3:a=e.sent,t(le(!1)),0===a.data.resultCode&&t(ue(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))((function(e){return r.a.createElement(ie,e)})),ge=a(16),he=a.n(ge),be=function(e){var t=e.sidebar.friends.map((function(e){return r.a.createElement("li",{className:he.a.friends_item,key:e.id},r.a.createElement("div",{className:he.a.friends_avatar},r.a.createElement("img",{src:e&&null!==e.photos.small?e.photos.small:H.a,alt:""})),r.a.createElement("div",{className:he.a.friends_name},e.name))}));return r.a.createElement("nav",{className:he.a.nav},r.a.createElement("ul",{className:he.a.nav__ul},r.a.createElement("li",{className:"".concat(he.a.nav__li," ").concat(he.a.active)},r.a.createElement(p.b,{to:"/profile",activeClassName:he.a.active},"Profile")),r.a.createElement("li",{className:he.a.nav__li},r.a.createElement(p.b,{to:"/dialogs",activeClassName:he.a.active},"Messages")),r.a.createElement("li",{className:he.a.nav__li},r.a.createElement(p.b,{to:"/news",activeClassName:he.a.active},"News")),r.a.createElement("li",{className:he.a.nav__li},r.a.createElement(p.b,{to:"/music",activeClassName:he.a.active},"Music")),r.a.createElement("li",{className:he.a.nav__li},r.a.createElement(p.b,{to:"/settings",activeClassName:he.a.active},"Settings")),r.a.createElement("li",{className:"".concat(he.a.nav__li," ").concat(he.a.nav__li_users)},r.a.createElement(p.b,{to:"/users",activeClassName:he.a.active},"Users"))),r.a.createElement("div",{className:he.a.friends},r.a.createElement("h4",{className:he.a.friends_title},"Friends ",r.a.createElement("span",{className:he.a.friends_count},e.sidebar.totalFriendsCount)),r.a.createElement("ul",{className:he.a.friends_list},t)))},ve={friends:[],totalFriendsCount:0},Ee=function(e){return{type:"SET_FRIENDS",friends:e}},Oe=function(e){return{type:"SET_TOTAL_FRIENDS",friends:e}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FRIENDS":return Object(y.a)(Object(y.a)({},e),{},{friends:t.friends});case"SET_TOTAL_FRIENDS":return Object(y.a)(Object(y.a)({},e),{},{totalFriendsCount:t.friends});default:return e}},je=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getFriends()}},{key:"render",value:function(){return r.a.createElement(be,{sidebar:this.props.sidebar})}}]),a}(r.a.Component),ye=Object(q.d)(Object(v.b)((function(e){return{sidebar:e.sidebar}}),{getFriends:function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.d.getFriends();case 2:a=e.sent,n=a.items,r=function(){for(var e,t,a=n.slice(0),r=n.length;r--;)e=a[t=Math.floor((r+1)*Math.random())],a[t]=a[r],a[r]=e;return a.slice(0,3)}(),t(Ee(r)),t(Oe(a.totalCount));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(je),Ne=a(169),ke=a.n(Ne),Se=function(e){return r.a.createElement("div",{className:ke.a.news},"News")},Te=a(170),Pe=a.n(Te),Ce=function(e){return r.a.createElement("div",{className:Pe.a.music},"Music")},Ue=a(171),Fe=a.n(Ue),xe=function(e){return r.a.createElement("div",{className:Fe.a.settings},"Settings")},Ae=a(125),Ie=a(39),Le=a.n(Ie),Ge=a(160),Re=a(161),De=a(379),ze=a(381),He=a(380),Me=a(173),We=a.n(Me),Ve=function(e){var t=e.label,a=e.input,n=e.meta,c=n.touched,i=n.invalid,s=n.error,o=Object(Ae.a)(e,["label","input","meta"]);return r.a.createElement(De.a,Object.assign({label:t,placeholder:t,error:c&&i,helperText:c&&s,variant:"outlined"},a,o))},Ke=function(e){var t=e.input,a=e.label;return r.a.createElement("div",null,r.a.createElement(ze.a,{control:r.a.createElement(He.a,{checked:!!t.value,onChange:t.onChange,color:"primary"}),label:a}))},qe=Object(Re.a)({form:"login",validate:function(e){var t={};return["email","password"].forEach((function(a){e[a]||(t[a]="Required")})),t}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:Le.a.input_field},r.a.createElement(Ge.a,{name:"email",label:"Login",component:Ve})),r.a.createElement("div",{className:Le.a.input_field},r.a.createElement(Ge.a,{name:"password",label:"Password",component:Ve,type:"password"})),r.a.createElement("div",{className:Le.a.input_field},r.a.createElement(Ge.a,{name:"remember",label:"Remember me",component:Ke,type:"checkbox"})),e.submitFailed&&r.a.createElement("div",{className:"".concat(Le.a.summary_error," ").concat(Le.a.input_field)},e.error),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement("img",{src:e.captchaUrl,alt:""})),e.captchaUrl&&r.a.createElement("div",{className:Le.a.input_captcha},r.a.createElement(Ge.a,{name:"captcha",label:"Enter a symbols",component:Ve})),r.a.createElement("div",{className:Le.a.input_field},r.a.createElement(G.a,{variant:"contained",color:"primary",className:Le.a.button,type:"submit",startIcon:r.a.createElement(We.a,null)},"Login")))})),Ye=Object(v.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,a,n){return function(){var r=Object(w.a)(O.a.mark((function r(c){var i,s;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(le(!0)),r.next=3,N.a.login(e,t,a,n);case 3:i=r.sent,c(le(!1)),0===i.data.resultCode?c(pe()):(10===i.data.resultCode&&c(fe()),s=i.data.messages.length>0?i.data.messages[0]:"Unknown error",c(Object(se.a)("login",{_error:s})));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(d.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(qe,{onSubmit:function(t){e.login(t.email,t.password,t.remember,t.captcha)},captchaUrl:e.captchaUrl}))})),Ze={initialized:!1,isFetching:!0},Be=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(y.a)(Object(y.a)({},e),{},{initialized:!0});case"TOGGLE_FETCHING":return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFetching});default:return e}},Xe=a(123),Je=a(159),$e=a(180),et=a(162),tt=Object(q.c)({app:Qe,profilePage:Xe.b,messagesPage:Je.b,sidebar:we,usersPage:A,auth:me,form:et.a}),at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.d,nt=Object(q.e)(tt,at(Object(q.a)($e.a)));window.__store__=nt;var rt=nt,ct=r.a.lazy((function(){return a.e(4).then(a.bind(null,396))})),it=r.a.lazy((function(){return a.e(3).then(a.bind(null,395))})),st=Object(f.a)({palette:{primary:g.a,secondary:b.a}}),ot=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(e){alert(e),console.error(e)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(m.a,{theme:st},r.a.createElement("div",{className:"wrapper"},r.a.createElement(_e,null),r.a.createElement(ye,null),r.a.createElement("main",{className:"content"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0},r.a.createElement(d.a,{to:"/profile"})),r.a.createElement(d.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(V.a,null)},r.a.createElement(it,null))}}),r.a.createElement(d.b,{exact:!0,path:"/dialogs",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(V.a,null)},r.a.createElement(ct,null))}}),r.a.createElement(d.b,{path:"/news",component:Se}),r.a.createElement(d.b,{path:"/music",component:Ce}),r.a.createElement(d.b,{path:"/settings",component:xe}),r.a.createElement(d.b,{path:"/users",component:te}),r.a.createElement(d.b,{path:"/login",component:Ye}),r.a.createElement(d.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 not found")}}))))):r.a.createElement(V.a,null)}}]),a}(r.a.Component),ut=Object(q.d)(d.g,Object(v.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(Be(!0));var t=e(pe());Promise.all([t]).then((function(){e({type:"SET_INITIALIZED"}),e(Be(!1))}))}}}))(ot),lt=function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{basename:"/social-network"},r.a.createElement(v.a,{store:rt},r.a.createElement(ut,null))))};i.a.render(r.a.createElement(lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,t,a){e.exports={input_field:"Login_input_field__bDvCA",summary_error:"Login_summary_error__195GD",input_captcha:"Login_input_captcha__1W8ec"}},51:function(e,t,a){e.exports={logo:"Header_logo__1FkZe",header:"Header_header__2A7jb",brand:"Header_brand__YhHTP",login_block:"Header_login_block__2le33",button_logout:"Header_button_logout__2G62i",button_wrap:"Header_button_wrap__MwFAR"}},61:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(165),i=a.n(c),s=a(166),o=a.n(s);t.a=function(){return r.a.createElement("div",{className:o.a.preloader_wrap},r.a.createElement("img",{src:i.a,alt:""}))}},79:function(e,t,a){e.exports=a.p+"static/media/avatar.4f6ee0b8.png"}},[[216,1,2]]]);
//# sourceMappingURL=main.c4881ea0.chunk.js.map