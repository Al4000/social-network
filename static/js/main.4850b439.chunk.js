(this.webpackJsonpfaceboook=this.webpackJsonpfaceboook||[]).push([[0],{122:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(42),r=a(43),c=a(45),i=a(44),s=a(0),o=a.n(s),u=a(18),l=a(23),p=function(e){return{isAuth:e.auth.isAuth}},d=function(e){var t=function(t){Object(c.a)(s,t);var a=Object(i.a)(s);function s(){return Object(n.a)(this,s),a.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?o.a.createElement(e,this.props):o.a.createElement(u.a,{to:"/login"})}}]),s}(o.a.Component);return Object(l.b)(p)(t)}},124:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return _})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return b})),a.d(t,"h",(function(){return h})),a.d(t,"i",(function(){return v})),a.d(t,"g",(function(){return E}));var n=a(14),r=a.n(n),c=a(26),i=a(60),s=a(5),o=a(24),u=a(58),l={posts:[{id:1,text:"First post",likes:2,dislikes:0,like:!1,dislike:!1},{id:2,text:"Hi",likes:23,dislikes:1,like:!1,dislike:!1}],profile:null,status:"",isFetching:!0,newPostText:""},p=function(e){return{type:"ADD_POST",newPostText:e}},d=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},f=function(e){return{type:"SET_STATUS",status:e}},m=function(e){return{type:"TOGGLE_LIKE",id:e}},_=function(e){return{type:"TOGGLE_DISLIKE",id:e}},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(d(!0)),t.next=3,o.b.getUserProfile(e);case 3:n=t.sent,a({type:"SET_USERS_PROFILE",profile:n}),a(d(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:n=t.sent,a(f(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&a(f(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.uploadAvatar(e);case 2:0===(n=t.sent).data.resultCode&&a({type:"SAVE_AVATAR",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n().auth.userId,t.next=3,o.b.updateProfile(e);case 3:if(0!==(i=t.sent).data.resultCode){t.next=8;break}a(g(c)),t.next=10;break;case 8:return a(Object(u.a)("profile",{_error:i.data.messages[0]})),t.abrupt("return",Promise.reject(i.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={id:5,text:t.newPostText,likes:0,dislikes:0,like:!1,dislike:!1};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[a]),newPostText:""});case"SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"SET_USERS_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"TOGGLE_FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case"DELETE_POST":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case"SAVE_AVATAR":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});case"TOGGLE_LIKE":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?e.like?Object(s.a)(Object(s.a)({},e),{},{like:!1,likes:e.likes-1}):Object(s.a)(Object(s.a)({},e),{},{like:!0,dislike:!1,likes:e.likes+1,dislikes:e.dislike?e.dislikes-1:e.dislikes}):e}))});case"TOGGLE_DISLIKE":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?e.dislike?Object(s.a)(Object(s.a)({},e),{},{dislike:!1,dislikes:e.dislikes-1}):Object(s.a)(Object(s.a)({},e),{},{like:!1,dislike:!0,dislikes:e.dislikes+1,likes:e.like?e.likes-1:e.likes}):e}))});default:return e}}},159:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(60),r=a(5),c=a(174),i=a.n(c),s=a(175),o=a.n(s),u=a(176),l=a.n(u),p=a(177),d=a.n(p),f=a(178),m=a.n(f),_=a(179),g=a.n(_),b={dialogs:[{id:1,name:"Alexander",avatar:i.a},{id:2,name:"Victor",avatar:o.a},{id:3,name:"John",avatar:l.a},{id:4,name:"Helena",avatar:d.a},{id:5,name:"Tony",avatar:m.a},{id:6,name:"Michael",avatar:g.a}],messages:[{id:1,message:"Hi",type:"incoming"},{id:2,message:"Hello",type:"outcoming"},{id:3,message:"Ok!",type:"incoming"},{id:4,message:"Good bye",type:"outcoming"},{id:5,message:"100%",type:"incoming"},{id:6,message:"Yo",type:"outcoming"}]},h=function(e){return{type:"ADD_MESSAGE",newMessageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var a={id:7,message:t.newMessageText,type:"incoming"};return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(n.a)(e.messages),[a])});default:return e}}},16:function(e,t,a){e.exports={nav:"Navbar_nav__mPHz4",nav__ul:"Navbar_nav__ul___Wdvm",nav__li:"Navbar_nav__li__3zbpa",nav__li_users:"Navbar_nav__li_users__1LYrp",active:"Navbar_active__Pdizy",friends:"Navbar_friends__PhlxP",friends_list:"Navbar_friends_list__2Xi3S",friends_avatar:"Navbar_friends_avatar__3aujU",friends_item:"Navbar_friends_item__6QViX",friends_title:"Navbar_friends_title__3vmLE",friends_name:"Navbar_friends_name__3_R0Z",friends_count:"Navbar_friends_count__1rlDZ"}},165:function(e,t,a){e.exports=a.p+"static/media/preloader.26dcc48c.gif"},166:function(e,t,a){e.exports={preloader_wrap:"Preloader_preloader_wrap__2K_Eb"}},168:function(e,t,a){e.exports=a.p+"static/media/178.d05a41d9.gif"},169:function(e,t,a){e.exports={news:"News_news__2Obhi"}},170:function(e,t,a){e.exports={music:"Music_music__2qfFp"}},171:function(e,t,a){e.exports={settings:"Settings_settings__2Ma6h"}},174:function(e,t,a){e.exports=a.p+"static/media/my.586e6b99.png"},175:function(e,t,a){e.exports=a.p+"static/media/Screenshot_2.e2849d3c.png"},176:function(e,t,a){e.exports=a.p+"static/media/Screenshot_3.86f596a9.png"},177:function(e,t,a){e.exports=a.p+"static/media/helena.1b106820.jpg"},178:function(e,t,a){e.exports=a.p+"static/media/Screenshot_5.42e1719b.png"},179:function(e,t,a){e.exports=a.p+"static/media/Screenshot_6.f5ed4860.png"},216:function(e,t,a){e.exports=a(342)},22:function(e,t,a){e.exports={users:"Users_users__3-FFG",avatar:"Users_avatar__35Qak",info:"Users_info__2BRvL",name:"Users_name__1KhPj",card:"Users_card__1CGl8",card__left:"Users_card__left__1fwRm",status:"Users_status__25-ll",location:"Users_location__1HiKE",showmore:"Users_showmore__2dLWk",button:"Users_button__dNBIf",pagination:"Users_pagination__2rYmF",pagi_active:"Users_pagi_active__QeygC",pagi:"Users_pagi__dPTaQ",pagi_button:"Users_pagi_button__3Uoqo"}},221:function(e,t,a){},222:function(e,t,a){},24:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o}));var n=a(164),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2f779481-db2c-495a-9bc1-00ac4d4dad77"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))},getFriends:function(){return r.get("users").then((function(e){return e.data}))}},i={getUserProfile:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.put("profile/status",{status:e})},uploadAvatar:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t)},updateProfile:function(e){return r.put("profile",e)}},s={me:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,remember:a,captcha:n})},logout:function(){return r.delete("auth/login")}},o={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},342:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),c=a(15),i=a.n(c),s=(a(221),a(42)),o=a(43),u=a(45),l=a(44),p=a(18),d=a(27),f=(a(222),a(183)),m=a(378),_=a(181),g=a.n(_),b=a(182),h=a.n(b),v=a(23),E=a(14),O=a.n(E),w=a(26),j=a(60),N=a(5),y=a(24),S={users:[],pageSize:5,totalUsersCount:0,currentPage:1,currentPagiNumber:1,isFetching:!0,followInProgress:[]},k=function(e){return{type:"FOLLOW",userId:e}},P=function(e){return{type:"UNFOLLOW",userId:e}},T=function(e){return{type:"SET_TOTAL_USERS",users:e}},C=function(e){return{type:"SET_ACTIVE_PAGE",page:e}},U=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},A=function(e,t){return{type:"FOLLOW_IN_PROGRESS",isFetching:e,userId:t}},x=function(){var e=Object(w.a)(O.a.mark((function e(t,a,n,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(r(a)),t(A(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(N.a)(Object(N.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(N.a)(Object(N.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(N.a)(Object(N.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(N.a)(Object(N.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(N.a)(Object(N.a)({},e),{},{users:t.users});case"SET_TOTAL_USERS":return Object(N.a)(Object(N.a)({},e),{},{totalUsersCount:t.users});case"SET_ACTIVE_PAGE":return Object(N.a)(Object(N.a)({},e),{},{currentPage:t.page});case"SET_ACTIVE_PAGI_NUMBER":return Object(N.a)(Object(N.a)({},e),{},{currentPagiNumber:t.page});case"TOGGLE_FETCHING":return Object(N.a)(Object(N.a)({},e),{},{isFetching:t.isFetching});case"FOLLOW_IN_PROGRESS":return Object(N.a)(Object(N.a)({},e),{},{followInProgress:t.isFetching?[].concat(Object(j.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!==t.userId}))});default:return e}},F=a(22),L=a.n(F),G=a(374),R=a(125),D=function(e){for(var t=e.totalUsersCount,a=e.pageSize,c=e.currentPage,i=e.onPageChanged,s=e.pagiSize,o=void 0===s?10:s,u=e.currentPagiNumber,l=Math.ceil(t/a),p=[],d=1;d<=l;d++)p.push(d);var f=Math.ceil(l/o),m=Object(n.useState)(u),_=Object(R.a)(m,2),g=_[0],b=_[1],h=(g-1)*o+1,v=g*o;return r.a.createElement("div",{className:L.a.pagination},g>1&&r.a.createElement(G.a,{className:L.a.pagi_button,variant:"contained",color:"primary",onClick:function(){return b(g-1)}},"Prev ",o),p.filter((function(e){return e>=h&&e<=v})).map((function(e){return r.a.createElement("span",{key:e,className:"".concat(c===e?L.a.pagi_active:""," ").concat(L.a.pagi),onClick:function(){return i(e,g)}},e)})),f>g&&r.a.createElement(G.a,{className:L.a.pagi_button,variant:"contained",color:"primary",onClick:function(){return b(g+1)}},"Next ",o))},z=a(79),H=a.n(z),M=function(e){var t=e.user,a=e.followInProgress,n=e.unfollow,c=e.follow;return r.a.createElement("div",{className:L.a.card},r.a.createElement("div",{className:L.a.card__left},r.a.createElement("div",{className:L.a.avatar},r.a.createElement(d.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:H.a,alt:""}))),r.a.createElement(G.a,{variant:"contained",color:t.followed?"secondary":"primary",className:L.a.button,disabled:a.some((function(e){return e===t.id})),onClick:t.followed?function(){n(t.id)}:function(){c(t.id)}},t.followed?"unfollow":"follow")),r.a.createElement("div",{className:L.a.info},r.a.createElement("div",null,r.a.createElement("div",{className:L.a.name},t.name),r.a.createElement("div",{className:L.a.status},t.status))))},W=function(e){return r.a.createElement("div",{className:L.a.users},r.a.createElement(D,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPagiNumber:e.currentPagiNumber}),e.users.map((function(t){return r.a.createElement(M,{user:t,followInProgress:e.followInProgress,unfollow:e.unfollow,follow:e.follow,key:t.id})})),r.a.createElement("div",{className:L.a.showmore},r.a.createElement(G.a,{variant:"contained",color:"primary",className:L.a.button_more,size:"large",onClick:function(){var t=e.currentPage%10===0?e.currentPagiNumber+1:e.currentPagiNumber;e.onPageChanged(e.currentPage+1,t)}},"Show next")))},V=a(61),K=a(122),q=a(12),B=a(167),Y=function(e){return e.usersPage.isFetching},Z=Object(B.a)((function(e){return e.usersPage.users}),(function(e){return e})),Q=function(e){return e.usersPage.pageSize},X=function(e){return e.usersPage.totalUsersCount},J=function(e){return e.usersPage.currentPage},$=function(e){return e.usersPage.currentPagiNumber},ee=function(e){return e.usersPage.followInProgress},te=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t,a){e.props.requestUsers(t,e.props.pageSize,a)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize,this.props.currentPagiNumber)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(V.a,null):r.a.createElement(W,{totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,currentPagiNumber:this.props.currentPagiNumber,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followInProgress:this.props.followInProgress}))}}]),a}(r.a.Component),ae=Object(q.d)(Object(v.b)((function(e){return{users:Z(e),pageSize:Q(e),totalUsersCount:X(e),currentPage:J(e),currentPagiNumber:$(e),isFetching:Y(e),followInProgress:ee(e)}}),{follow:function(e){return function(t){x(t,e,y.d.follow.bind(e),k)}},unfollow:function(e){return function(t){x(t,e,y.d.unfollow.bind(e),P)}},setActivePage:C,toggleFollow:A,requestUsers:function(e,t,a){return function(){var n=Object(w.a)(O.a.mark((function n(r){var c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(U(!0)),r(C(e)),r({type:"SET_ACTIVE_PAGI_NUMBER",page:a}),n.next=5,y.d.getUsers(e,t);case 5:c=n.sent,r({type:"SET_USERS",users:c.items}),r(U(!1)),r(T(c.totalCount));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),K.a)(te),ne=a(51),re=a.n(ne),ce=a(168),ie=a.n(ce),se=function(e){return r.a.createElement("header",{className:re.a.header},r.a.createElement("img",{src:ie.a,alt:"",className:re.a.logo}),r.a.createElement("div",{className:re.a.brand},"vFacebooke"),r.a.createElement("div",{className:re.a.login_block},e.isAuth?r.a.createElement("div",{className:re.a.button_wrap},e.login,r.a.createElement(G.a,{variant:"contained",color:"primary",className:re.a.button_logout,onClick:e.logout},"Logout")):r.a.createElement(d.b,{to:"/login"},r.a.createElement(G.a,{variant:"contained",color:"primary",className:re.a.button},"Login"))))},oe=a(58),ue={userId:null,email:null,login:null,isAuth:!1,isFetching:!0,captchaUrl:null},le=function(e,t,a,n){return{type:"auth/SET_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:n}}},pe=function(e){return{type:"auth/TOGGLE_FETCHING",isFetching:e}},de=function(e){return{type:"auth/GET_CAPTCHA_URL",payload:{captchaUrl:e}}},fe=function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n,r,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(pe(!0)),e.next=3,y.a.me();case 3:a=e.sent,t(pe(!1)),0===a.resultCode&&(n=a.data,r=n.id,c=n.email,i=n.login,t(le(r,c,i,!0)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},me=function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(pe(!0)),e.next=3,y.c.getCaptchaUrl();case 3:a=e.sent,t(pe(!1)),n=a.data.url,t(de(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":case"auth/GET_CAPTCHA_URL":return Object(N.a)(Object(N.a)({},e),t.payload);case"auth/TOGGLE_FETCHING":return Object(N.a)(Object(N.a)({},e),{},{isFetching:t.isFetching});default:return e}},ge=Object(q.d)(Object(v.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(pe(!0)),e.next=3,y.a.logout();case 3:a=e.sent,t(pe(!1)),0===a.data.resultCode&&t(le(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))((function(e){return r.a.createElement(se,e)})),be=a(16),he=a.n(be),ve=function(e){var t=e.sidebar.friends.map((function(e){return r.a.createElement("li",{className:he.a.friends_item,key:e.id},r.a.createElement("div",{className:he.a.friends_avatar},r.a.createElement("img",{src:e&&null!==e.photos.small?e.photos.small:H.a,alt:""})),r.a.createElement("div",{className:he.a.friends_name},e.name))}));return r.a.createElement("nav",{className:he.a.nav},r.a.createElement("ul",{className:he.a.nav__ul},r.a.createElement("li",{className:"".concat(he.a.nav__li," ").concat(he.a.active)},r.a.createElement(d.b,{to:"/profile",activeClassName:he.a.active},"Profile")),r.a.createElement("li",{className:he.a.nav__li},r.a.createElement(d.b,{to:"/dialogs",activeClassName:he.a.active},"Messages")),r.a.createElement("li",{className:he.a.nav__li},r.a.createElement(d.b,{to:"/news",activeClassName:he.a.active},"News")),r.a.createElement("li",{className:he.a.nav__li},r.a.createElement(d.b,{to:"/music",activeClassName:he.a.active},"Music")),r.a.createElement("li",{className:he.a.nav__li},r.a.createElement(d.b,{to:"/settings",activeClassName:he.a.active},"Settings")),r.a.createElement("li",{className:"".concat(he.a.nav__li," ").concat(he.a.nav__li_users)},r.a.createElement(d.b,{to:"/users",activeClassName:he.a.active},"Users"))),r.a.createElement("div",{className:he.a.friends},r.a.createElement("h4",{className:he.a.friends_title},"Friends ",r.a.createElement("span",{className:he.a.friends_count},e.sidebar.totalFriendsCount)),r.a.createElement("ul",{className:he.a.friends_list},t)))},Ee={friends:[],totalFriendsCount:0},Oe=function(e){return{type:"SET_FRIENDS",friends:e}},we=function(e){return{type:"SET_TOTAL_FRIENDS",friends:e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FRIENDS":return Object(N.a)(Object(N.a)({},e),{},{friends:t.friends});case"SET_TOTAL_FRIENDS":return Object(N.a)(Object(N.a)({},e),{},{totalFriendsCount:t.friends});default:return e}},Ne=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getFriends()}},{key:"render",value:function(){return r.a.createElement(ve,{sidebar:this.props.sidebar})}}]),a}(r.a.Component),ye=Object(q.d)(Object(v.b)((function(e){return{sidebar:e.sidebar}}),{getFriends:function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.d.getFriends();case 2:a=e.sent,n=a.items,r=function(){for(var e,t,a=n.slice(0),r=n.length;r--;)e=a[t=Math.floor((r+1)*Math.random())],a[t]=a[r],a[r]=e;return a.slice(0,3)}(),t(Oe(r)),t(we(a.totalCount));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Ne),Se=a(169),ke=a.n(Se),Pe=function(e){return r.a.createElement("div",{className:ke.a.news},"News")},Te=a(170),Ce=a.n(Te),Ue=function(e){return r.a.createElement("div",{className:Ce.a.music},"Music")},Ae=a(171),xe=a.n(Ae),Ie=function(e){return r.a.createElement("div",{className:xe.a.settings},"Settings")},Fe=a(121),Le=a(39),Ge=a.n(Le),Re=a(160),De=a(161),ze=a(379),He=a(381),Me=a(380),We=a(173),Ve=a.n(We),Ke=function(e){var t=e.label,a=e.input,n=e.meta,c=n.touched,i=n.invalid,s=n.error,o=Object(Fe.a)(e,["label","input","meta"]);return r.a.createElement(ze.a,Object.assign({label:t,placeholder:t,error:c&&i,helperText:c&&s,variant:"outlined"},a,o))},qe=function(e){var t=e.input,a=e.label;return r.a.createElement("div",null,r.a.createElement(He.a,{control:r.a.createElement(Me.a,{checked:!!t.value,onChange:t.onChange,color:"primary"}),label:a}))},Be=Object(De.a)({form:"login",validate:function(e){var t={};return["email","password"].forEach((function(a){e[a]||(t[a]="Required")})),t}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:Ge.a.input_field},r.a.createElement(Re.a,{name:"email",label:"Login",component:Ke})),r.a.createElement("div",{className:Ge.a.input_field},r.a.createElement(Re.a,{name:"password",label:"Password",component:Ke,type:"password"})),r.a.createElement("div",{className:Ge.a.input_field},r.a.createElement(Re.a,{name:"remember",label:"Remember me",component:qe,type:"checkbox"})),e.submitFailed&&r.a.createElement("div",{className:"".concat(Ge.a.summary_error," ").concat(Ge.a.input_field)},e.error),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement("img",{src:e.captchaUrl,alt:""})),e.captchaUrl&&r.a.createElement("div",{className:Ge.a.input_captcha},r.a.createElement(Re.a,{name:"captcha",label:"Enter a symbols",component:Ke})),r.a.createElement("div",{className:Ge.a.input_field},r.a.createElement(G.a,{variant:"contained",color:"primary",className:Ge.a.button,type:"submit",startIcon:r.a.createElement(Ve.a,null)},"Login")))})),Ye=Object(v.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,a,n){return function(){var r=Object(w.a)(O.a.mark((function r(c){var i,s;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(pe(!0)),r.next=3,y.a.login(e,t,a,n);case 3:i=r.sent,c(pe(!1)),0===i.data.resultCode?c(fe()):(10===i.data.resultCode&&c(me()),s=i.data.messages.length>0?i.data.messages[0]:"Unknown error",c(Object(oe.a)("login",{_error:s})));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(Be,{onSubmit:function(t){e.login(t.email,t.password,t.remember,t.captcha)},captchaUrl:e.captchaUrl}))})),Ze={initialized:!1,isFetching:!0},Qe=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(N.a)(Object(N.a)({},e),{},{initialized:!0});case"TOGGLE_FETCHING":return Object(N.a)(Object(N.a)({},e),{},{isFetching:t.isFetching});default:return e}},Je=a(124),$e=a(159),et=a(180),tt=a(162),at=Object(q.c)({app:Xe,profilePage:Je.b,messagesPage:$e.b,sidebar:je,usersPage:I,auth:_e,form:tt.a}),nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.d,rt=Object(q.e)(at,nt(Object(q.a)(et.a)));window.__store__=rt;var ct=rt,it=r.a.lazy((function(){return a.e(4).then(a.bind(null,396))})),st=r.a.lazy((function(){return a.e(3).then(a.bind(null,395))})),ot=Object(f.a)({palette:{primary:g.a,secondary:h.a}}),ut=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(e){alert(e),console.error(e)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){if(!this.props.initialized)return r.a.createElement(V.a,null);var e=window.location.pathname.indexOf("/profile")>0?"profile_content":"";return r.a.createElement(m.a,{theme:ot},r.a.createElement("div",{className:"wrapper"},r.a.createElement(ge,null),r.a.createElement(ye,null),r.a.createElement("main",{className:"".concat(e," content")},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0},r.a.createElement(p.a,{to:"/profile"})),r.a.createElement(p.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(V.a,null)},r.a.createElement(st,null))}}),r.a.createElement(p.b,{exact:!0,path:"/dialogs",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(V.a,null)},r.a.createElement(it,null))}}),r.a.createElement(p.b,{path:"/news",component:Pe}),r.a.createElement(p.b,{path:"/music",component:Ue}),r.a.createElement(p.b,{path:"/settings",component:Ie}),r.a.createElement(p.b,{path:"/users",component:ae}),r.a.createElement(p.b,{path:"/login",component:Ye}),r.a.createElement(p.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 not found")}})))))}}]),a}(r.a.Component),lt=Object(q.d)(p.g,Object(v.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(Qe(!0));var t=e(fe());Promise.all([t]).then((function(){e({type:"SET_INITIALIZED"}),e(Qe(!1))}))}}}))(ut),pt=function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{basename:"/social-network"},r.a.createElement(v.a,{store:ct},r.a.createElement(lt,null))))};i.a.render(r.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,t,a){e.exports={input_field:"Login_input_field__bDvCA",summary_error:"Login_summary_error__195GD",input_captcha:"Login_input_captcha__1W8ec"}},51:function(e,t,a){e.exports={logo:"Header_logo__1FkZe",header:"Header_header__2A7jb",brand:"Header_brand__YhHTP",login_block:"Header_login_block__2le33",button_logout:"Header_button_logout__2G62i",button_wrap:"Header_button_wrap__MwFAR"}},61:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(165),i=a.n(c),s=a(166),o=a.n(s);t.a=function(){return r.a.createElement("div",{className:o.a.preloader_wrap},r.a.createElement("img",{src:i.a,alt:""}))}},79:function(e,t,a){e.exports=a.p+"static/media/avatar.4f6ee0b8.png"}},[[216,1,2]]]);
//# sourceMappingURL=main.4850b439.chunk.js.map